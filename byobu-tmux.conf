# TERM="screen-256color"5
# TERM="alacritty"
# # BYOBU_TERM="xterm-256color"5
# BYOBU_TERM="alacritty"
# # set -g default-terminal 'alacritty'5
# set -g default-terminal 'xterm-256color'5
# set -ga terminal-overrides ',*256col*:Tc'5
# set -ga terminal-overrides ',*256col*:Sc'5
# +# set -ga terminal-overrides ',*256col*:Sc'5
# #set -g default-terminal 'alacritty'5
# +# set -g default-terminal 'screen-256color'5
# )set -g default-terminal 'screen-256color'5
# *# set -g default-terminal 'xterm-256color'5
# TERM="screen-256color"5
# # TERM="alacritty"5
# (set -g default-terminal 'xterm-256color'5
# %# set -g default-terminal 'alacritty'5
# )set -ga terminal-overrides ',*256col*:Sc'5
# BYOBU_TERM="xterm-256color"5
# # BYOBU_TERM="alacritty"5
# TERM="alacritty"5
# # COLORTERM="xterm-256color"5
# # BYOBU_TERM="xterm-256color"5
# BYOBU_TERM="alacritty"5
# #set -g default-terminal 'alacritty'5
# +# set -g default-terminal 'screen-256color'5
# )set -g default-terminal 'screen-256color'5
# *# set -g default-terminal 'xterm-256color'5
# +# set -ga terminal-overrides ',*256col*:Sc'5
# (set -g default-terminal 'xterm-256color'5
# )set -ga terminal-overrides ',*256col*:Sc'5
# COLORTERM="xterm-256color"5
# BYOBU_TERM="xterm-256color"5
#     - ADVICE:5
# -      - Set default-terminal in ~/.tmux.conf:5
# :          set-option -g default-terminal "screen-256color"5
# <          # set-option -g default-terminal "screen-256color"5
# <          # set-option -g default-terminal "screen-256color"5
# 2# set-option -g default-terminal "screen-256color"5
# ## set-option -g default-terminal ""5
# 0# set-option -g default-terminal "tmux-256color"5
# 6          set-option -sa terminal-overrides ',XXX:RGB'5
# 6          set-option -sa terminal-overrides ',XXX:RGB'
# T      - Put this in your ~/.tmux.conf and replace XXX by your $TERM outside of tmux:
#     - ADVICE:
# p  - WARNING: Neither Tc nor RGB capability set. True colors are disabled. |'termguicolors'| won't work properly.
# 1      - https://github.com/neovim/neovim/wiki/FAQ5
# set -g default-terminal "tmux"5
# ,set-option -sa terminal-overrides ',XXX:RGB'
# ;set-option -sa terminal-overrides ',screen-256colorXXX:RGB'5
# :set-option -sa terminal-overrides ',screen-256colorXX:RGB'5
# 9set-option -sa terminal-overrides ',screen-256colorX:RGB'5
#  Forward motion is the key.
# .<W> fish: Using fallback terminal type 'ansi'.
# D<W> fish: Check that this terminal type is supported on this system.
# ;<W> fish: TERM environment variable set to 'tmux-256color'.
# $<W> fish: Could not set up terminal.5
# 2# set-option -g default-terminal "screen-256color"5
# .set-option -g default-terminal "tmux-256color"5
# TODO: consider copying from the other one or importing it...
# set -g default-terminal "xterm-256color"
# set -g default-terminal "tmux-256color" set-option -ga terminal-overrides ",tmux-256color:Tc
# TERM="screen-256color"
# TERM="alacritty"
# COLORTERM="xterm-256color"
# BYOBU_TERM="xterm-256color"
# BYOBU_TERM="alacritty"
# Q: WHAT broke all the colors?  THAT is going to be the crux to fix it consistently
# set -g default-terminal 'alacritty'
# set -g default-terminal 'screen-256color'
# These settings make a big differen
# set -g default-terminal 'xterm-256color'
# set -ga terminal-overrides ',*256col*:Sc'
 # set -g default-terminal "tmux"
## F5 to refresh this file for BYOBU
# set-option -g default-terminal "screen-256color"
# set-option -g default-terminal "tmux-256color"
# set-option -sa terminal-overrides ',screen-256color:RGB'
  #     - https://github.com/neovim/neovim/wiki/FAQ
  # - WARNING: Neither Tc nor RGB capability set. True colors are disabled. |'termguicolors'| won't work properly.
  #   - ADVICE:
  #     - Put this in your ~/.tmux.conf and replace XXX by your $TERM outside of tmux:
  #         set-option -sa terminal-overrides ',XXX:RGB'
# important info
# <W> fish: Could not set up terminal.
# <W> fish: TERM environment variable set to 'tmux-256color'.
# <W> fish: Check that this terminal type is supported on this system.
# <W> fish: Using fallback terminal type 'ansi'.
#  Forward motion is the key.5
# TODO: consider copying from the other one or importing it...
# set -g default-terminal "xterm-256color"
# set -g default-terminal "tmux-256color" set-option -ga terminal-overrides ",tmux-256color:Tc
# TERM="screen-256color"
# TERM="alacritty"
# COLORTERM="xterm-256color"
# BYOBU_TERM="xterm-256color"
# BYOBU_TERM="alacritty"
# Q: WHAT broke all the colors?  THAT is going to be the crux to fix it consistently
# set -g default-terminal 'alacritty'
# set -g default-terminal 'screen-256color'
# These settings make a big differen
# set -g default-terminal 'xterm-256color'
# set -ga terminal-overrides ',*256col*:Sc'
# set -g default-terminal "tmux"
## F5 to refresh this file for BYOBU
# set-option -g default-terminal "screen-256color"
  # - WARNING: Neither Tc nor RGB capability set. True colors are disabled. |'termguicolors'| won't work properly.
 #   - ADVICE:
  #     - Put this in your ~/.tmux.conf and replace XXX by your $TERM outside of tmux:
  #         set-option -sa terminal-overrides ',XXX:RGB'
# important info
# <W> fish: Could not set up terminal.
# <W> fish: TERM environment variable set to 'tmux-256color'.
# <W> fish: Check that this terminal type is supported on this system.
# <W> fish: Using fallback terminal type 'ansi'.
#  Forward motion is the key.5
# set-option -sa terminal-overrides ',alacritty:RGB'5
# is THIS the magic piece?5
# set-option -sa terminal-overrides ',alacritty:RGB'5
# set-option -sa terminal-overrides ',:RGB'5
# TODO: consider copying from the other one or importing it...
# set -g default-terminal "xterm-256color"
# set -g default-terminal "tmux-256color" set-option -ga terminal-overrides ",tmux-256color:Tc
# TERM="screen-256color"
# TERM="alacritty"
# COLORTERM="xterm-256color"
# BYOBU_TERM="xterm-256color"
# BYOBU_TERM="alacritty"
# Q: WHAT broke all the colors?  THAT is going to be the crux to fix it consistently
# set -g default-terminal 'alacritty'
# set -g default-terminal 'screen-256color'
# These settings make a big differen
# set -g default-terminal 'xterm-256color'
# set -ga terminal-overrides ',*256col*:Sc'
# set -g default-terminal "tmux"
## F5 to refresh this file for BYOBU
# set-option -g default-terminal "xterm-256color"
# set-option -sa terminal-overrides ',xterm-256color:RGB'
# set-option -g default-terminal "alacritty"
# is THIS the magic piece? YES.
# set-option -sa terminal-overrides ',alacritty:RGB'
# set-option -sa terminal-overrides ',xterm:Tc'
  #     - https://github.com/neovim/neovim/wiki/FAQ
  # - WARNING: Neither Tc nor RGB capability set. True colors are disabled. |'termguicolors'| won't work properly.
  #   - ADVICE:
  #     - Put this in your ~/.tmux.conf and replace XXX by your $TERM outside of tmux:
  #         set-option -sa terminal-overrides ',XXX:RGB'

### HISTORY: -----------------------
# Enable mouse scrolling in copy mode (how you scroll)
set -g mouse on #in history copy mode
# Start copy mode when scrolling up. auto scroll works by turning on copy mode when you scroll)
bind -n WheelUpPane if-shell -F -t = "#{mouse_any_flag}" "send-keys -M" "if -Ft= '#{pane_in_mode}' 'send-keys -M' 'select-pane -t=; copy-mode -e; send-keys -M'"
bind -n WheelDownPane select-pane -t= \; send-keys -M


### Active/Inactive pane colors

# Set active and inactive pane...
# TODO: do this in vim too
# set -g window-active-style 'fg=colour250,bg=black'

### set inactive/active window styles
# https://stackoverflow.com/questions/25532773/change-background-color-of-active-or-inactive-pane-in-tmux
# inactive (darker)
# set -g window-style 'fg=colour247,bg=#15161F'
set -g window-style 'fg=#626462,bg=#15141C'
# set -g window-active-style 'fg=colour250,bg=#1A1A27'
# active
# set -g window-active-style 'fg=colour250,bg=#1A1A27' # tyring to match vim
set -g window-active-style 'fg=#F8F8F1,bg=#1B1C26' # trying to match non-vim term

# (needed for vim to fade) https://github.com/TaDaa/vimade
set -g focus-events

# set the pane border colors
# set -g pane-border-style 'fg=colour235,bg=colour238'
# set -g pane-active-border-style 'fg=colour51,bg=colour236'



### Terminal colors
# :checkhealth was crucial for troubleshooting this

# set-option -g default-terminal "tmux-256color"
# set-option -sa terminal-overrides ',screen-256color:RGB'

# USUAL option. Trying kitty because it makes strikethrough work, but fish freaks out about it...
set-option -g default-terminal "xterm-256color"
# set-option -g default-terminal "xterm-kitty" # This makes strikethrough work in md files..., but causes fish errors (and in the terminal... try it!)

# This one was crucial
# set-option -sa terminal-overrides ',xterm-256color:RGB'
set-option -ga terminal-overrides ',xterm-256color:Tc' #gets the right bg coloring for nvim in tmux
# set-option -ga terminal-overrides ',XXX:Tc'
  #     - https://github.com/neovim/neovim/wiki/FAQ




###
# PLUGINS
###

# READING
# https://github.com/rothgar/awesome-tmux

#Installs new plugins from GitHub or any other git repository
# prefix + I

#Refreshes TMUX environment
#prefix + U

#updates plugin(s)
#prefix + alt + u

# this overrides byobu "status" file
# but is a nice way to hack it

# try this: http://poginate.github.io/blog/2013/04/30/battery-status-in-tmux/
# Used this
# http://effectif.com/system-administration/battery-status-in-tmux
# set -g status-right "Batt: #{BATT_STATUS} #{battery_icon} #{battery_percentage} | %a %h-%d %H:%M "



# overrides byobu status-right from (~/.byobu/status) (easier to do it this way)
LIGHTNING="âš¡"
BATT="ðŸ”‹"
# TODO consider moving this back to byobu...?
# set -g status-right "Online: #{online_status} $LIGHTNING#(~/bin/battery Discharging;) $xLIGHTNING\| %b %d %H:%M"

# RELOAD after changing this with prefix + I

# set -g status-right "$LIGHTNING#(~/bin/battery) $xLIGHTNING\| %b %d %H:%M"
# Q: When do we use # and when $?

# Battery script saved locally from ...
# https://github.com/jamischarles/battery/blob/master/bin/battery
# set -g status-right "$LIGHTNING#(~/bin/battery Discharging;) #(~/bin/battery Charging) $xLIGHTNING\| %b %d %H:%M"
set -g status-right "#(~/bin/battery Discharging; ~/bin/battery Charging) \| %b %d %H:%M"

# set -g status-right "Online: #{online_status} #{network_bandwidth} $LIGHTNING#(~/bin/battery) $xLIGHTNING\| %b %d %H:%M"

# set -g status-right "$LIGHTNING#(~/bin/battery) $xLIGHTNING\| %b %d %H:%M"
# set -g status-right "Online: #{online_status} #{network_bandwidth} #{battery_percentage} $LIGHTNING#(~/bin/battery) $xLIGHTNING\| %b %d %H:%M"

# set -g status-right "Online: #{online_status} #{network_bandwidth} #{net_speed} $LIGHTNING#(~/bin/battery Discharging;) $xLIGHTNING\| %b %d %H:%M"


# List of plugins
# set -g @tpm_plugins "                 \
#   tmux-plugins/tpm                    \
#   tmux-plugins/tmux-battery-osx       \
# "


# need to use old config style (this) instead of newer one because we have a custom tmux config location
# https://github.com/tmux-plugins/tpm/blob/master/docs/tpm_not_working.md
set -g @tpm_plugins "\
  tmux-plugins/tpm \
  tmux-plugins/tmux-net-speed \
  tmux-plugins/tmux-online-status \
  tmux-plugins/tmux-battery-osx \
"
  # xamut/tmux-network-bandwidth \

# try these for session persistence across restarts and crashes
# continuum
# resurrect

# LIST of plugins
# set -g @plugin 'tmux-plugins/tpm'
# set -g @plugin 'xamut/tmux-network-bandwidth'
# set -g @plugin 'tmux-plugins/tmux-net-speed'
# set -g @plugin 'tmux-plugins/tmux-online-status'
# set -g @plugin 'tmux-plugins/tmux-battery-osx'

# restore tmux session
# set -g @plugin 'tmux-plugins/tmux-resurrect'
# set -g @plugin 'tmux-plugins/tmux-continuum'

# set -g @plugin 'jbnicolai/tmux-fpp'
# set -g @plugin 'tmux-plugins/tmux-sensible'
# set -g @plugin 'tmux-plugins/tmux-copycat'
# set -g @plugin 'tmux-plugins/tmux-open' #open url etc that's highlighted
# set -g @plugin 'tmux-plugins/tmux-yank' # copy from tmux :}. Not sure it's needed anymore...

# Other examples:
# set -g @plugin 'github_username/plugin_name'
# set -g @plugin 'git@github.com/user/plugin'
# set -g @plugin 'git@bitbucket.com/user/plugin'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
# SETUP: cloned tpm to ~/.byobu/tpm (this made it work with byobu)
run-shell '~/.byobu/tpm/tpm'


##########################3
# other configs I'll need to restore (don't want to create separate symlink for that)
###########################
# datetime.tmux
# BYOBU_DATE="| %b %d "


